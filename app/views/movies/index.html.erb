<h1><%= pluralize @movies.size, "Movie"%></h1>

<% @movies.each do |movie| %>
<div class="box">
  <article>
    <header>
      <!-- helper method to display default image if none is given, 2nd argument is for image width -->
      <%= image_default(movie, 75, :small) %>
      <h2><%= link_to movie.title, movie %></h2>
      <h3><%= format_average_stars(movie) %></h3>
    </header>
    <p>
      <%= truncate(movie.description, length: 40, separator: ' ') %>
    </p>
    <table>
      <tr>
        <th>Released:</th>
        <td><%= movie.released_on %></td>
      </tr>
      <tr>
        <th>Rating:</th>
        <td><%= movie.rating %></td>
      </tr>
      <tr>
        <th>Total Gross:</th>
        <td><%= format_total_gross(movie) %></td>
      </tr>
    </table>
  </article>
  <br>
</div>
<% end %>
<br>
